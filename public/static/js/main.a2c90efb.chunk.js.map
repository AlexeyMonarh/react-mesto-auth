{"version":3,"sources":["contexts/CurrentUserContext.js","images/vector/succed.svg","images/vector/fail.svg","components/Card/Card.js","images/vector/mesto_Russia.svg","components/Footer/Footer.js","images/vector/logo.svg","components/Header/Header.js","components/Main/Main.js","components/ImagePopup/ImagePopup.js","components/PopupWithForm/PopupWithForm.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/AddPlacePopup/AddPlacePopup.js","components/RemoveCardPopup/RemoveCardPopup.js","components/Login/Login.js","components/Register/Register.js","components/ProtectedRoute/ProtectedRoute.js","components/InfoTooltip/InfoTooltip.js","utils/api.js","components/projectAuth.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","data","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","className","type","onClick","handleCardDelete","src","link","id","alt","onCardClick","name","onCardLike","length","Footer","logoFooter","Header","logo","headerMob","style","display","marginRight","email","to","title","Main","signOut","onEditAvatar","backgroundImage","avatar","about","onEditProfile","onAddPlace","cards","map","onPopupDelete","ImagePopup","card","onClose","PopupWithForm","isOpen","selectorCont","selectorBtn","div","action","selector","onSubmit","inputs","onCardDelete","button","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","value","onChange","target","placeholder","required","EditAvatarPopup","avaRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","place","setPlace","setLink","onCreateCard","RemoveCardPopup","currentId","Login","handleLogin","password","inputValue","setInputValue","history","useHistory","handleChange","then","push","autoComplete","Register","onRegister","setMassage","catch","err","massage","ProtectedRoute","Component","component","loggedIn","InfoTooltip","img","infoTool","message","thenApi","res","ok","json","Promise","reject","status","api","options","this","_baseUrl","baseUrl","_headers","headers","fetch","method","body","JSON","stringify","element","userId","cardId","authorization","BASE_URL","withRouter","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setСurrentUser","setCards","setLoggedIn","userData","setUserData","setInfoTool","registerPopup","setRegisterPopup","console","log","escFunction","event","keyCode","closeAllPopups","deleteCard","newList","filter","c","token","localStorage","getItem","projectAuth","statusCode","Error","document","addEventListener","removeEventListener","getInitialCards","getUser","Provider","exact","path","removeItem","changeLikeCardStatus","newCard","newCards","setItem","succed","fail","setAvatar","setUserInfo","createNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a2c90efb.chunk.js","sourcesContent":["import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","export default __webpack_public_path__ + \"static/media/succed.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import React from 'react';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = props.data.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `elements__element-delete-button ${isOwn ? 'elements__element-delete-button_visible' : 'elements__element-delete-button_hidden'}`\n  );\n  const isLiked = props.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = `elements__element-like ${isLiked ? 'elements__element-like_visible' : 'elements__element-like_hidden'}`;\n\n  function setCardId() {\n    // props.setId(props._id);\n    // props.onPopupDelete();\n    props.handleCardDelete(props._id)\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props);\n  }\n\n  function handleClick() {\n    props.onCardClick(props);\n  }\n\n  return (\n    <li className=\"elements__element\">\n      <button type=\"submit\" className={cardDeleteButtonClassName} onClick={setCardId}></button>\n      <img src={props.link} id=\"\" alt=\"Места-России\" className=\"elements__element-img\" onClick={handleClick} />\n      <div className=\"elements__element-description\">\n        <h2 className=\"elements__element-title\">{props.name}</h2>\n        <div className=\"elements__element-like-box\">\n          <button type=\"submit\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n          <div className=\"elements__element-likes\">{props.likes.length}</div>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default Card;","export default __webpack_public_path__ + \"static/media/mesto_Russia.e56d73ba.svg\";","import React from 'react';\nimport logoFooter from '../../images/vector/mesto_Russia.svg';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <img src={logoFooter} alt=\"2020_Место_Россия\" />\n    </footer>\n  );\n}\n\nexport default Footer;","export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import { React } from 'react';\nimport logo from '../../images/vector/logo.svg';\nimport { Link } from 'react-router-dom';\n// import { Navbar } from 'react-bootstrap';\n\nfunction Header(props) {\n  return (\n    <header className={`header `}>\n      <img src={logo} alt=\"Лого (Место - Россия)\" className=\"header__logo\" />\n      <div className={props.headerMob} style={{ display: 'flex' }}>\n        <div style={{ marginRight: '15px' }}>{props.email}</div>\n        <Link className=\"header__auth header__auth_mobile\" onClick={props.onClick} to={props.to}>{props.title}</Link>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n\n// {/* <>\n// <Navbar collapseOnSelect expand=\"md\" bg=\"dark\" variant=\"\">\n//   <Container className=\"header\">\n//     <Navbar.Brand href=\"/\">\n//       <img src={logo} alt=\"Лого (Место - Россия)\" className=\"header__logo\" />\n//     </Navbar.Brand>\n//     <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n//     <Navbar.Collapse id=\"responsive-navbar-nav\">\n//       <Nav style={{ display: 'flex', marginRight: 'auto', }}>\n//         {/* <div style={{ marginRight: '15px' }}>{props.email}</div>\n//         <Link className=\"header__auth header__auth_mobile\" onClick={props.onClick} to={props.to}>{props.title}</Link> */}\n//       </Nav>\n//     </Navbar.Collapse>\n//   </Container>\n// </Navbar>\n// </> */}","import React from 'react';\nimport Card from '../Card/Card';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport Footer from '../../components/Footer/Footer';\nimport Header from '../../components/Header/Header';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <Header headerMob={'header_mobile'} email={props.email} title=\"Выход\" onClick={props.signOut} to=\"\"/>\n      <section className=\"profile\">\n        <div className=\"profile__avatar-hover\" onClick={props.onEditAvatar} style={{ backgroundImage: `url(${currentUser.avatar})` }}>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__info-content\">\n            <h1 className=\"profile__info-name\">{currentUser.name}</h1>\n            <p className=\"profile__info-status\">{currentUser.about}</p>\n          </div>\n          <button className=\"profile__info-edit-button\" onClick={props.onEditProfile}></button>\n        </div>\n        <button className=\"profile__add-button\" onClick={props.onAddPlace}></button>\n      </section>\n      <section>\n        <ul className=\"elements\">\n          {props.cards.map((data, _id) => {\n            return (\n              <Card\n                key={data._id}\n                data={data}\n                link={data.link}\n                name={data.name}\n                _id={data._id}\n                likes={data.likes}\n                onCardClick={props.onCardClick}\n                onCardLike={props.onCardLike}\n                // setId={props.setId}\n                onPopupDelete={props.onPopupDelete}\n                handleCardDelete={props.handleCardDelete}\n              />\n            )\n          })}\n        </ul>\n      </section>\n      <Footer />\n    </main>\n  );\n}\n\nexport default Main;","import React from 'react'\n\nfunction ImagePopup(props) {\n    return (\n      <div className={props.card ? `popup popup_${props.card} popup_image-background popup_open` : `popup popup_${props.card} popup_image-background`}>\n        <div className=\"popup__overlay\" onClick={props.onClose}></div>\n        <div className=\"popup__container popup__container_image\">\n          <button className=\"popup__close-icon\" onClick={props.onClose}></button>\n          <img src={props.card.link} alt=\"Места-России\" className=\"popup__image\" />\n          <h5 className=\"popup__title\">{props.card.name}</h5>\n        </div>\n      </div>\n    )\n}\n\nexport default ImagePopup;","import React from 'react';\n\nfunction PopupWithForm(props) {\n  return (\n    <div className={props.isOpen ? `popup popup_${props.name} popup_open` : `popup popup_${props.name}`}>\n      <div className=\"popup__overlay\" onClick={props.onClose}></div>\n      <div className={`popup__container ${props.selectorCont}`}>\n        <button className={`popup__close-icon ${props.selectorBtn}`} onClick={props.onClose}></button>\n        {props.div}\n        <h2 className=\"popup__heading\">{props.title}</h2>\n        <form action=\"#\" className={`popup__inputs ${props.selector}`} name={props.name} onSubmit={props.onSubmit}>\n          {props.inputs}\n          <button type=\"submit\" className=\"popup__submit-button\" onClick={props.onCardDelete}>{props.button}</button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from '../../components/PopupWithForm/PopupWithForm';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nexport default function EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser])\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  function inputName(e) {\n    setName(e.target.value);\n  }\n\n  function inputDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name='edit-profile'\n      title='Редактировать профиль'\n      button='Сохранить'\n      inputs={\n        <>\n          <input type=\"text\" className=\"popup__input popup__input-name\" value={name || ''} onChange={inputName} placeholder=\"Имя\" name=\"name\" required />\n          <span className=\"popup__error\" id=\"name-error\"></span>\n          <input type=\"text\" className=\"popup__input popup__input-job\" value={description || ''} onChange={inputDescription} placeholder=\"О себе\" name=\"link\" required />\n          <span className=\"popup__error\" id=\"link-error\"></span>\n        </>\n      }\n    />\n  )\n}","import React from 'react';\nimport PopupWithForm from '../../components/PopupWithForm/PopupWithForm';\n\nexport default function EditAvatarPopup(props) {\n  const avaRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avaRef.current.value,\n    });\n    avaRef.current.value = '';\n  } \n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name='edit-avatar'\n      title='Обновить аватар'\n      button='Сохранить'\n      inputs={(\n        <>\n          <input type=\"url\" ref={avaRef} className=\"popup__input popup__input-link\" placeholder=\"Ссылка на новый аватар\"\n            name=\"link\" />\n          <span className=\"popup__error\" id=\"link-error\"></span>\n        </>\n      )}\n    />\n  )\n}\n","import React from 'react';\nimport PopupWithForm from '../../components/PopupWithForm/PopupWithForm';\n\nexport default function AddPlacePopup(props) {\n  const [place, setPlace] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onCreateCard({\n      name: place,\n      link: link,\n    });\n    setPlace('');\n    setLink('');\n  }\n\n  function inputPlace(e) {\n    setPlace(e.target.value);\n  }\n\n  function inputLink(e) {\n    setLink(e.target.value);\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name='add-element'\n      title='Новое место'\n      button='Создать'\n      inputs={\n        <>\n          <input type=\"text\" className=\"popup__input popup__input-place\" value={place || ''} onChange={inputPlace} placeholder=\"Название\" name=\"name\" required />\n          <span className=\"popup__error\" id=\"name-error\"></span>\n          <input type=\"url\" className=\"popup__input popup__input-link\" value={link || ''} onChange={inputLink} placeholder=\"Ссылка на картинку\" name=\"link\" />\n          <span className=\"popup__error\" id=\"link-error\"></span>\n        </>\n      }\n    />\n  )\n}\n","import React from 'react';\nimport PopupWithForm from '../../components/PopupWithForm/PopupWithForm';\n\nexport default function RemoveCardPopup(props) {\n\n  function handleDeleteClick() {\n    // console.log(props.currentId)\n    props.onCardDelete(props.currentId);\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onCardDelete={handleDeleteClick}\n      name='remove-card'\n      title='Вы уверены?'\n      button='Да'\n    />\n  )\n}\n","import { React, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Header from '../../components/Header/Header';\n\nfunction Login({ handleLogin }) {\n  const [inputValue, setInputValue] = useState({\n    email: '',\n    password: '',\n  })\n\n  const history = useHistory();\n\n  function handleChange(e) {\n    const { name, value } = e.target;\n    setInputValue({\n      ...inputValue,\n      [name]: value,\n    });\n  }\n\n  function habdleSubmite(e) {\n    e.preventDefault();\n    handleLogin(inputValue).then(() => {\n      history.push('/')\n    })\n  }\n\n  return (\n    <div className=\"loginContainer\">\n      <Header title=\"Регистрация\" to=\"/sign-up\" />\n      <div className=\"register\">\n        <form action=\"#\" onSubmit={habdleSubmite} className=\"popup__inputs register__form register__form_mobile\">\n          <h2 className=\"popup__heading\">Вход</h2>\n          <input type=\"email\" name=\"email\" className=\"popup__input register__input\" onChange={handleChange} value={inputValue.email} placeholder=\"Email\" required autoComplete=\"off\" />\n          <span className=\"popup__error\" id=\"name-error\"></span>\n          <input type=\"password\" name=\"password\" className=\"popup__input register__input\" onChange={handleChange} value={inputValue.password} placeholder=\"Пароль\" required />\n          <span className=\"popup__error\" id=\"link-error\"></span>\n          <button type=\"submit\" className=\"popup__submit-button register__button register__button_mobile\">Войти</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default Login;","import { React, useState } from \"react\";\nimport { Link, useHistory } from 'react-router-dom';\nimport Header from '../../components/Header/Header';\n\nfunction Register({ onRegister }) {\n  const [inputValue, setInputValue] = useState({\n    email: '',\n    password: '',\n  });\n  const [massage, setMassage] = useState('');\n\n  function handleChange(e) {\n    const { name, value } = e.target;\n    setInputValue({\n      ...inputValue,\n      [name]: value,\n    });\n  }\n\n  const history = useHistory();\n\n  function habdleSubmite(e) {\n    e.preventDefault();\n    onRegister(inputValue)\n      .then(() => {\n        history.push('/sign-in')\n      }).catch((err) => {\n        setMassage(err.massage || 'Ошибка при регистрации')\n      });\n  }\n\n  return (\n    <div className=\"loginContainer\">\n      <Header title=\"Вход\" to=\"/sing-in\" />\n      <div className=\"register\">\n        <form action=\"#\" className=\"popup__inputs register__form register__form_mobile\" onSubmit={habdleSubmite}>\n          <h2 className=\"popup__heading\">Регистрация</h2>\n          <input type=\"email\" name=\"email\" className=\"popup__input register__input\" onChange={handleChange} value={inputValue.email} placeholder=\"Email\" required autoComplete=\"off\" />\n          {/* <span className=\"popup__error\" id=\"name-error\"></span> */}\n          <input type=\"password\" name=\"password\" className=\"popup__input register__input\" onChange={handleChange} value={inputValue.password} placeholder=\"Пароль\" required />\n          {/* <span className=\"popup__error\" id=\"link-error\"></span> */}\n          <button type=\"submit\" className=\"popup__submit-button register__button register__button_mobile\">Зарегистрироваться</button>\n          <span className=\"register__span register__span_mobile\">Уже зарегистрированы?<Link className=\"header__auth\" to=\"/sign-in\"> Войти</Link></span>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default Register;","import { React } from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {\n        props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n  )\n}\n\nexport default ProtectedRoute;","import { React } from \"react\";\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\n\nfunction InfoTooltip(props) {\n  const img = props.infoTool.img;\n  const message = props.infoTool.message;\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      selector={'form_none'}\n      infoTool={props.infoTool}\n      img={img}\n      message={message}\n      div={\n        <div className=\"infoTool\">\n          <img src={img} alt=\"Картинка регистрации\" />\n          <p className=\"infoTool__title infoTool__title_mobile\">{message}</p>\n        </div>\n      }\n      selectorCont={'popup__container_mobile'}\n      selectorBtn={'popup__close-icon_mobile'}\n    />\n  )\n}\n\nexport default InfoTooltip;","const thenApi = (res) => {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(`Ошибка: ${res.status}`);\n}\n\nclass Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  getInitialCards() {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers\n    }).then(thenApi)\n  }\n\n  getUser() {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: this._headers\n    }).then(thenApi)\n  }\n\n  setUserInfo(name, about) {\n    return fetch(this._baseUrl + '/users/me', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      })\n    }).then(thenApi)\n  }\n\n  setAvatar(avatar) {\n    return fetch(this._baseUrl + '/users/me/avatar', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(avatar)\n    }).then(thenApi)\n  }\n\n  createNewCard(element) {\n    return fetch(this._baseUrl + '/cards', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: element.name,\n        link: element.link,\n      })\n    }).then(thenApi)\n  }\n\n  deleteCard(userId) {\n    return fetch(`${this._baseUrl}/cards/${userId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n      body: JSON.stringify({\n        _id: userId,\n      })\n    }).then(thenApi)\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if (isLiked) {\n      return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n        method: 'PUT',\n        headers: this._headers\n      }).then(thenApi)\n    } else {\n      return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n        method: 'DELETE',\n        headers: this._headers\n      }).then(thenApi)\n    }\n  }\n}\n\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-17',\n  headers: {\n    authorization: '6bae60df-6d32-40ec-9280-dea8e2f20679',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;","export const BASE_URL = \"https://auth.nomoreparties.co\";\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then((res) => res.ok ? res.json() : Promise.reject('Некорректно заполнено одно из полей'))\n}\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then((res) => res.ok ? res.json() : Promise.reject('Пользователь с email не найден'));\n}\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Authorization': `Bearer ${token}`,\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    }\n  })\n    .then((res) => res.ok ? res.json() : Promise.reject('Токен не передан или передан не в том формате'));\n}","import { React, useEffect, useState } from \"react\";\nimport { Route, Switch, Redirect, withRouter, useHistory } from \"react-router-dom\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport succed from '../images/vector/succed.svg';\nimport fail from '../images/vector/fail.svg';\nimport Main from '../components/Main/Main';\nimport ImagePopup from '../components/ImagePopup/ImagePopup';\nimport EditProfilePopup from '../components/EditProfilePopup/EditProfilePopup';\nimport EditAvatarPopup from '../components/EditAvatarPopup/EditAvatarPopup';\nimport AddPlacePopup from '../components/AddPlacePopup/AddPlacePopup';\nimport RemoveCardPopup from '../components/RemoveCardPopup/RemoveCardPopup';\nimport Login from '../components/Login/Login';\nimport Register from '../components/Register/Register';\nimport ProtectedRoute from '../components/ProtectedRoute/ProtectedRoute';\nimport InfoTooltip from '../components/InfoTooltip/InfoTooltip';\nimport api from '../utils/api';\nimport * as projectAuth from './projectAuth';\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isDeletePopupOpen, setIsDeletePopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(false);\n  const [currentUser, setСurrentUser] = useState(\"\");\n  // const [currentId, setCurrentId] = useState(\"\");\n  const [cards, setCards] = useState([]);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userData, setUserData] = useState({\n    email: '',\n    password: '',\n  });\n  const [infoTool, setInfoTool] = useState({\n    message: '',\n    img: ''\n  });\n  const [registerPopup, setRegisterPopup] = useState();\n\n  const err = (res) => {\n    console.log(`Ошибка: ${res}`);\n  };\n\n  const history = useHistory();\n\n  const escFunction = (event) => {\n    if (event.keyCode === 27) {\n      closeAllPopups();\n    }\n  };\n\n  useEffect(() => {\n    const token = localStorage.getItem('jwt');\n    if (token) {\n      projectAuth.getContent(token).then((res) => {\n        if (!res || res.statusCode === 401) {\n          throw new Error('Переданный токен некорректен');\n        }\n        if (res) {\n          setUserData({ email: res.data.email });\n        }\n      })\n        .then(() => {\n          setLoggedIn(true);\n          history.push(\"/\");\n        })\n        .catch((res) => {\n          console.log(`Ошибка: ${res}`);\n        })\n    }\n  }, []);\n\n  useEffect(() => {\n    if (loggedIn) {\n      history.push('/');\n    }\n  }, [loggedIn]);\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", escFunction, false);\n    return () => {\n      document.removeEventListener(\"keydown\", escFunction, false);\n    };\n  });\n\n  useEffect(() => {\n    api.getInitialCards().then((res) => {\n      setCards(res);\n    }).catch(err)\n  }, []);\n\n  useEffect(() => {\n    api.getUser().then((res) => {\n      setСurrentUser(res);\n    }).catch(err)\n  }, []);\n\n  function handleRegister(data) {\n    const { email, password } = data;\n    return projectAuth.register(email, password).then((res) => {\n      if (res) {\n        setRegisterPopup(true);\n        setInfoTool({\n          message: 'Вы успешно зарегистрировались!',\n          img: succed\n        })\n      }\n      if (!res || res.statusCode === 400) {\n        throw new Error('Некорректно заполнено одно из полей');\n      }\n    })\n      .catch((err) => {\n        setRegisterPopup(true);\n        setInfoTool({\n          message: 'Что-то пошло не так! Попробуйте ещё раз.',\n          img: fail\n        })\n        console.log(`Такой email существует ${err}`)\n      })\n  }\n\n  function handleLogin(data) {\n    const { email, password } = data;\n    setUserData({ email: email });\n    return projectAuth.authorize(email, password).then((res) => {\n      if (!res || res.statusCode === 400) {\n        throw new Error('Не передано одно из полей');\n      }\n      if (res.token) {\n        setLoggedIn(true);\n        localStorage.setItem('jwt', res.token)\n      }\n    })\n      .catch(err)\n  }\n\n  function signOut() {\n    localStorage.removeItem('jwt')\n    setLoggedIn(false)\n    history.push('/sign-in')\n  }\n\n  function handleAddPlaceSubmit(data) {\n    api.createNewCard(data).then((res) => {\n      setCards([res, ...cards]);\n      closeAllPopups();\n    }).catch(err)\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    }).catch(err)\n  }\n\n  // function setId(card) {\n  //   setCurrentId(card)\n  // }\n\n  function handleCardDelete(cardId) {\n    api.deleteCard(cardId).then(() => {\n      const newList = cards.filter((c) => c._id !== cardId);\n      return setCards(newList);\n    })\n      .then(closeAllPopups())\n      .catch(err)\n  }\n\n  function handleUpdateAvatar(data) {\n    api.setAvatar(data)\n      .then((res) => {\n        setСurrentUser(res);\n        closeAllPopups();\n      }).catch(err)\n  }\n\n  function handleUpdateUser(data) {\n    api.setUserInfo(data.name, data.about)\n      .then((res) => {\n        setСurrentUser(res);\n        closeAllPopups();\n      }).catch(err);\n  }\n\n  function handleDeleteCardClick() {\n    setIsDeletePopupOpen(true);\n  };\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  function handleCardClick(props) {\n    setSelectedCard({ link: props.link, name: props.name });\n  }\n\n  function closeAllPopups() {\n    setIsDeletePopupOpen(false)\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(false);\n    setRegisterPopup(false);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        \n        <Switch>\n          <ProtectedRoute\n            exact\n            path=\"/\"\n            component={Main}\n            email={userData.email}\n            signOut={signOut}\n            loggedIn={loggedIn}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onPopupDelete={handleDeleteCardClick}\n            // setId={setId}\n            handleCardDelete={handleCardDelete}\n          />\n          <Route path=\"/sign-in\">\n            <Login\n              handleLogin={handleLogin}\n            />\n          </Route>\n          <Route path=\"/sign-up\">\n            <Register\n              onRegister={handleRegister}\n            />\n          </Route>\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n          <Route path=\"/my-profile\">\n          </Route>\n        </Switch>\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onCreateCard={handleAddPlaceSubmit}\n        />\n\n        <RemoveCardPopup\n          isOpen={isDeletePopupOpen}\n          onClose={closeAllPopups}\n          onCardDelete={handleCardDelete}\n        // currentId={currentId}\n        />\n\n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n\n        <InfoTooltip\n          isOpen={registerPopup}\n          onClose={closeAllPopups}\n          infoTool={infoTool}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default withRouter(App);","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}