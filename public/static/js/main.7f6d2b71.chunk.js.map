{"version":3,"sources":["images/vector/logo.svg","components/Header/Header.js","contexts/CurrentUserContext.js","components/Card/Card.js","components/Main/Main.js","images/vector/mesto_Russia.svg","components/Footer/Footer.js","components/ImagePopup/ImagePopup.js","utils/api.js","components/PopupWithForm/PopupWithForm.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/AddPlacePopup/AddPlacePopup.js","components/RemoveCardPopup/RemoveCardPopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","data","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","onCardDelete","link","id","onCardClick","name","onCardLike","length","Main","onEditAvatar","style","backgroundImage","avatar","about","onEditProfile","onAddPlace","cards","map","onPopupDelete","Footer","logoFooter","ImagePopup","card","onClose","thenApi","res","ok","json","Promise","reject","status","api","options","this","_baseUrl","baseUrl","_headers","headers","fetch","then","method","body","JSON","stringify","element","userId","cardId","authorization","PopupWithForm","isOpen","title","action","onSubmit","inputs","button","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","value","onChange","target","placeholder","required","EditAvatarPopup","avaRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","place","setPlace","setLink","onCreateCard","RemoveCardPopup","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setСurrentUser","setCards","escFunction","event","keyCode","closeAllPopups","handleCardDelete","deleteCard","newList","filter","c","catch","console","log","document","addEventListener","removeEventListener","getInitialCards","getUser","Provider","changeLikeCardStatus","newCard","newCards","setAvatar","setUserInfo","createNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7f6d2b71.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from 'react';\nimport logo from '../../images/vector/logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img src={logo} alt=\"Лого (Место - Россия)\" className=\"header__logo\" />\n    </header>\n  );\n}\n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = props.data.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `elements__element-delete-button ${isOwn ? 'elements__element-delete-button_visible' : 'elements__element-delete-button_hidden'}`\n  );\n  const isLiked = props.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = `elements__element-like ${isLiked ? 'elements__element-like_visible' : 'elements__element-like_hidden'}`;\n\n  function handleDeleteClick() {\n    props.onCardDelete(props);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props);\n  }\n\n  function handleClick() {\n    props.onCardClick(props);\n  }\n\n  return (\n    <li className=\"elements__element\">\n      <button type=\"submit\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\n      <img src={props.link} id=\"\" alt=\"Места-России\" className=\"elements__element-img\" onClick={handleClick} />\n      <div className=\"elements__element-description\">\n        <h2 className=\"elements__element-title\">{props.name}</h2>\n        <div className=\"elements__element-like-box\">\n          <button type=\"submit\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n          <div className=\"elements__element-likes\">{props.likes.length}</div>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default Card;","import React from 'react';\nimport Card from '../Card/Card';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-hover\" onClick={props.onEditAvatar} style={{ backgroundImage: `url(${currentUser.avatar})` }}>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__info-content\">\n            <h1 className=\"profile__info-name\">{currentUser.name}</h1>\n            <p className=\"profile__info-status\">{currentUser.about}</p>\n          </div>\n          <button className=\"profile__info-edit-button\" onClick={props.onEditProfile}></button>\n        </div>\n        <button className=\"profile__add-button\" onClick={props.onAddPlace}></button>\n      </section>\n      <section>\n        <ul className=\"elements\">\n          {props.cards.map((data, _id) => {\n            return (\n              <Card\n                key={data._id}\n                data={data}\n                link={data.link}\n                name={data.name}\n                _id={data._id}\n                likes={data.likes}\n                onCardClick={props.onCardClick}\n                onCardLike={props.onCardLike}\n                onCardDelete={props.onCardDelete}\n                onPopupDelete={props.onPopupDelete}\n              />\n            )\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;","export default __webpack_public_path__ + \"static/media/mesto_Russia.e56d73ba.svg\";","import React from 'react';\nimport logoFooter from '../../images/vector/mesto_Russia.svg';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <img src={logoFooter} alt=\"2020_Место_Россия\" />\n    </footer>\n  );\n}\n\nexport default Footer;","import React from 'react'\n\nfunction ImagePopup(props) {\n    return (\n      <div className={props.card ? `popup popup_${props.card} popup_image-background popup_open` : `popup popup_${props.card} popup_image-background`}>\n        <div className=\"popup__overlay\" onClick={props.onClose}></div>\n        <div className=\"popup__container popup__container_image\">\n          <button className=\"popup__close-icon\" onClick={props.onClose}></button>\n          <img src={props.card.link} alt=\"Места-России\" className=\"popup__image\" />\n          <h5 className=\"popup__title\">{props.card.name}</h5>\n        </div>\n      </div>\n    )\n}\n\nexport default ImagePopup;","const thenApi = (res) => {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(`Ошибка: ${res.status}`);\n}\n\nclass Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  getInitialCards() {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers\n    }).then(thenApi)\n  }\n\n  getUser() {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: this._headers\n    }).then(thenApi)\n  }\n\n  setUserInfo(name, about) {\n    return fetch(this._baseUrl + '/users/me', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      })\n    }).then(thenApi)\n  }\n\n  setAvatar(avatar) {\n    return fetch(this._baseUrl + '/users/me/avatar', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(avatar)\n    }).then(thenApi)\n  }\n\n  createNewCard(element) {\n    return fetch(this._baseUrl + '/cards', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: element.name,\n        link: element.link,\n      })\n    }).then(thenApi)\n  }\n\n  deleteCard(userId) {\n    return fetch(`${this._baseUrl}/cards/${userId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n      body: JSON.stringify({\n        _id: userId,\n      })\n    }).then(thenApi)\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if (isLiked) {\n      return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n        method: 'PUT',\n        headers: this._headers\n      }).then(thenApi)\n    } else {\n      return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n        method: 'DELETE',\n        headers: this._headers\n      }).then(thenApi)\n    }\n  }\n}\n\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-17',\n  headers: {\n    authorization: '6bae60df-6d32-40ec-9280-dea8e2f20679',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;","import React from 'react';\n\nfunction PopupWithForm(props) {\n  return (\n    <div className={props.isOpen ? `popup popup_${props.name} popup_open` : `popup popup_${props.name}`}>\n      <div className=\"popup__overlay\" onClick={props.onClose}></div>\n      <div className=\"popup__container\">\n        <button className=\"popup__close-icon\" onClick={props.onClose}></button>\n        <h2 className=\"popup__heading\">{props.title}</h2>\n        <form action=\"#\" className=\"popup__inputs\" name={props.name} onSubmit={props.onSubmit}>\n          {props.inputs}\n          <button type=\"submit\" className=\"popup__submit-button\" onClick={props.onCardDelete}>{props.button}</button>\n        </form>  \n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from '../../components/PopupWithForm/PopupWithForm';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nexport default function EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser])\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  function inputName(e) {\n    setName(e.target.value);\n  }\n\n  function inputDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name='edit-profile'\n      title='Редактировать профиль'\n      button='Сохранить'\n      inputs={\n        <>\n          <input type=\"text\" className=\"popup__input popup__input-name\" value={name || ''} onChange={inputName} placeholder=\"Имя\" name=\"name\" required />\n          <span className=\"popup__error\" id=\"name-error\"></span>\n          <input type=\"text\" className=\"popup__input popup__input-job\" value={description || ''} onChange={inputDescription} placeholder=\"О себе\" name=\"link\" required />\n          <span className=\"popup__error\" id=\"link-error\"></span>\n        </>\n      }\n    />\n  )\n}","import React from 'react';\nimport PopupWithForm from '../../components/PopupWithForm/PopupWithForm';\n\nexport default function EditAvatarPopup(props) {\n  const avaRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avaRef.current.value,\n    });\n    avaRef.current.value = '';\n  } \n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name='edit-avatar'\n      title='Обновить аватар'\n      button='Сохранить'\n      inputs={(\n        <>\n          <input type=\"url\" ref={avaRef} className=\"popup__input popup__input-link\" placeholder=\"Ссылка на новый аватар\"\n            name=\"link\" />\n          <span className=\"popup__error\" id=\"link-error\"></span>\n        </>\n      )}\n    />\n  )\n}\n","import React from 'react';\nimport PopupWithForm from '../../components/PopupWithForm/PopupWithForm';\n\nexport default function AddPlacePopup(props) {\n  const [place, setPlace] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onCreateCard({\n      name: place,\n      link: link,\n    });\n    setPlace('');\n    setLink('');\n  }\n\n  function inputPlace(e) {\n    setPlace(e.target.value);\n  }\n\n  function inputLink(e) {\n    setLink(e.target.value);\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name='add-element'\n      title='Новое место'\n      button='Создать'\n      inputs={\n        <>\n          <input type=\"text\" className=\"popup__input popup__input-place\" value={place || ''} onChange={inputPlace} placeholder=\"Название\" name=\"name\" required />\n          <span className=\"popup__error\" id=\"name-error\"></span>\n          <input type=\"url\" className=\"popup__input popup__input-link\" value={link || ''} onChange={inputLink} placeholder=\"Ссылка на картинку\" name=\"link\" />\n          <span className=\"popup__error\" id=\"link-error\"></span>\n        </>\n      }\n    />\n  )\n}\n","import React from 'react';\nimport PopupWithForm from '../../components/PopupWithForm/PopupWithForm';\n\nexport default function RemoveCardPopup(props) {\n  return (\n    <PopupWithForm\n    isOpen={props.isOpen}\n    onClose={props.onClose}\n    onCardDelete={props.onCardDelete}\n    name='remove-card'\n    title='Вы уверены?'\n    button='Да'\n  />\n  )\n}\n","import React from 'react';\nimport { useEffect, useState } from \"react\";\nimport Header from '../components/Header/Header';\nimport Main from '../components/Main/Main';\nimport Footer from '../components/Footer/Footer';\nimport ImagePopup from '../components/ImagePopup/ImagePopup';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from '../components/EditProfilePopup/EditProfilePopup';\nimport EditAvatarPopup from '../components/EditAvatarPopup/EditAvatarPopup';\nimport AddPlacePopup from '../components/AddPlacePopup/AddPlacePopup';\nimport RemoveCardPopup from '../components/RemoveCardPopup/RemoveCardPopup';\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isDeletePopupOpen, setIsDeletePopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(false);\n  const [currentUser, setСurrentUser] = useState(\"\");\n  const [cards, setCards] = useState([]);\n\n  const escFunction = (event) => {\n    if (event.keyCode === 27) {\n      closeAllPopups();\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", escFunction, false);\n    return () => {\n      document.removeEventListener(\"keydown\", escFunction, false);\n    };\n  });\n\n  useEffect(() => {\n    api.getInitialCards().then((res) => {\n      setCards(res);\n    }).catch((res) => {\n      console.log(`Ошибка: ${res.status}`);\n    })\n  }, []);\n\n  function handleAddPlaceSubmit(data) {\n    api.createNewCard(data).then((res) => {\n      setCards([res, ...cards]);\n      closeAllPopups();\n    }).catch((res) => {\n      console.log(`Ошибка: ${res.status}`);\n    })\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    }).catch((res) => {\n      console.log(`Ошибка: ${res.status}`);\n    });\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id).then(() => {\n      const newList = cards.filter((c) => c._id !== card._id);\n      setCards(newList);\n      closeAllPopups();\n    })\n      .catch((res) => {\n        console.log(`Ошибка: ${res.status}`);\n      });\n  }\n\n  useEffect(() => {\n    api.getUser().then((res) => {\n      setСurrentUser(res);\n    }).catch((res) => {\n      console.log(`Ошибка: ${res.status}`);\n    })\n  }, []);\n\n  function handleUpdateAvatar(data) {\n    api.setAvatar(data)\n      .then((res) => {\n        setСurrentUser(res);\n        closeAllPopups();\n      }).catch((res) => {\n        console.log(`Ошибка: ${res.status}`);\n      });\n  }\n\n  function handleUpdateUser(data) {\n    api.setUserInfo(data.name, data.about)\n      .then((res) => {\n        setСurrentUser(res);\n        closeAllPopups();\n      }).catch((res) => {\n        console.log(`Ошибка: ${res.status}`);\n      });\n  }\n\n  function handleDeleteCardClick() {\n    setIsDeletePopupOpen(true);\n  };\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  function handleCardClick(props) {\n    setSelectedCard({ link: props.link, name: props.name });\n  }\n\n  function closeAllPopups() {\n    setIsDeletePopupOpen(false)\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(false);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        <Header />\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onPopupDelete={handleDeleteCardClick}\n          onCardDelete={handleCardDelete}\n        />\n        <Footer />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onCreateCard={handleAddPlaceSubmit}\n        />\n\n        <RemoveCardPopup\n          isOpen={isDeletePopupOpen}\n          onClose={closeAllPopups}\n          onCardDelete={handleCardDelete}\n        />\n\n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}